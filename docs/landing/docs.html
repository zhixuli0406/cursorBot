<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文件中心 - CursorBot v1.1</title>
    <meta name="description" content="CursorBot 完整文件，包含快速開始教學、API 參考、指令說明。">
    
    <!-- Security Headers -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta name="referrer" content="strict-origin-when-cross-origin">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="logo.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --primary-light: #818cf8;
            --secondary: #10b981;
            --accent: #f59e0b;
            --dark: #0f172a;
            --dark-secondary: #1e293b;
            --dark-tertiary: #334155;
            --text: #e2e8f0;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border: #334155;
            --code-bg: #0d1117;
            --sidebar-width: 280px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans TC', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--dark);
            color: var(--text);
            line-height: 1.7;
        }
        
        code, pre {
            font-family: 'JetBrains Mono', 'SF Mono', Monaco, monospace;
        }
        
        a {
            color: var(--primary-light);
            text-decoration: none;
        }
        
        a:hover {
            text-decoration: underline;
        }
        
        /* Header */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 64px;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 2rem;
        }
        
        .header-content {
            max-width: 1600px;
            margin: 0 auto;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text);
            text-decoration: none;
        }
        
        .logo-icon {
            width: 36px;
            height: 36px;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .logo-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        .header-nav {
            display: flex;
            gap: 1.5rem;
            align-items: center;
        }
        
        .header-nav a {
            color: var(--text-secondary);
            font-weight: 500;
            transition: color 0.3s;
        }
        
        .header-nav a:hover {
            color: var(--text);
            text-decoration: none;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            text-decoration: none;
        }
        
        /* Layout */
        .docs-container {
            display: flex;
            margin-top: 64px;
            min-height: calc(100vh - 64px);
        }
        
        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: var(--dark-secondary);
            border-right: 1px solid var(--border);
            position: fixed;
            top: 64px;
            bottom: 0;
            left: 0;
            overflow-y: auto;
            padding: 1.5rem 0;
        }
        
        .sidebar-section {
            margin-bottom: 1.5rem;
        }
        
        .sidebar-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--text-muted);
            padding: 0 1.5rem;
            margin-bottom: 0.5rem;
            letter-spacing: 0.05em;
        }
        
        .sidebar-nav {
            list-style: none;
        }
        
        .sidebar-nav a {
            display: block;
            padding: 0.5rem 1.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            transition: all 0.2s;
            border-left: 3px solid transparent;
        }
        
        .sidebar-nav a:hover {
            background: rgba(99, 102, 241, 0.1);
            color: var(--text);
            text-decoration: none;
        }
        
        .sidebar-nav a.active {
            background: rgba(99, 102, 241, 0.15);
            color: var(--primary-light);
            border-left-color: var(--primary);
        }
        
        .sidebar-nav .sub-item {
            padding-left: 2.5rem;
            font-size: 0.85rem;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            margin-left: var(--sidebar-width);
            padding: 3rem;
            max-width: 900px;
        }
        
        /* Typography */
        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--text);
        }
        
        h2 {
            font-size: 1.75rem;
            font-weight: 600;
            margin-top: 3rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
            color: var(--text);
        }
        
        h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-top: 2rem;
            margin-bottom: 0.75rem;
            color: var(--text);
        }
        
        h4 {
            font-size: 1rem;
            font-weight: 600;
            margin-top: 1.5rem;
            margin-bottom: 0.5rem;
            color: var(--text);
        }
        
        p {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }
        
        .lead {
            font-size: 1.125rem;
            color: var(--text-secondary);
            margin-bottom: 2rem;
        }
        
        /* Code */
        code {
            background: var(--code-bg);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            font-size: 0.875rem;
            color: var(--primary-light);
        }
        
        pre {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem;
            overflow-x: auto;
            margin-bottom: 1.5rem;
        }
        
        pre code {
            background: none;
            padding: 0;
            font-size: 0.875rem;
            color: var(--text);
            line-height: 1.6;
        }
        
        .code-block {
            position: relative;
            margin-bottom: 1.5rem;
        }
        
        .code-header {
            background: var(--dark-tertiary);
            border: 1px solid var(--border);
            border-bottom: none;
            border-radius: 12px 12px 0 0;
            padding: 0.5rem 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .code-lang {
            font-size: 0.75rem;
            color: var(--text-muted);
            text-transform: uppercase;
        }
        
        .code-block pre {
            border-radius: 0 0 12px 12px;
            margin: 0;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
        }
        
        th, td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        th {
            background: var(--dark-secondary);
            font-weight: 600;
            color: var(--text);
        }
        
        td {
            color: var(--text-secondary);
        }
        
        td code {
            font-size: 0.8rem;
        }
        
        /* Method badges */
        .method {
            display: inline-block;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            font-family: 'JetBrains Mono', monospace;
        }
        
        .method-get { background: rgba(16, 185, 129, 0.2); color: #10b981; }
        .method-post { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        .method-put { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .method-delete { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
        .method-ws { background: rgba(139, 92, 246, 0.2); color: #8b5cf6; }
        
        /* Cards */
        .card {
            background: var(--dark-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .card-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .card-title i {
            color: var(--primary-light);
        }
        
        /* Steps */
        .steps {
            counter-reset: step;
            list-style: none;
            margin-bottom: 2rem;
        }
        
        .steps li {
            position: relative;
            padding-left: 3rem;
            margin-bottom: 1.5rem;
        }
        
        .steps li::before {
            counter-increment: step;
            content: counter(step);
            position: absolute;
            left: 0;
            width: 32px;
            height: 32px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.875rem;
        }
        
        .steps li h4 {
            margin-top: 0;
        }
        
        /* Alerts */
        .alert {
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            display: flex;
            gap: 0.75rem;
        }
        
        .alert-info {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .alert-info i { color: #3b82f6; }
        
        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.3);
        }
        
        .alert-warning i { color: #f59e0b; }
        
        .alert-success {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .alert-success i { color: #10b981; }
        
        .alert-content {
            flex: 1;
        }
        
        .alert-content p {
            margin: 0;
            color: var(--text);
        }
        
        /* Endpoint */
        .endpoint {
            background: var(--dark-secondary);
            border: 1px solid var(--border);
            border-radius: 12px;
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        .endpoint-header {
            padding: 1rem 1.25rem;
            background: var(--dark-tertiary);
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .endpoint-path {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            color: var(--text);
        }
        
        .endpoint-desc {
            color: var(--text-muted);
            font-size: 0.85rem;
            margin-left: auto;
        }
        
        .endpoint-body {
            padding: 1.25rem;
        }
        
        .endpoint-body h4 {
            margin-top: 0;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            gap: 0;
            border-bottom: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }
        
        .tab {
            padding: 0.75rem 1.25rem;
            color: var(--text-secondary);
            font-weight: 500;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }
        
        .tab:hover {
            color: var(--text);
        }
        
        .tab.active {
            color: var(--primary-light);
            border-bottom-color: var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Command table */
        .command-group {
            margin-bottom: 2rem;
        }
        
        .command-group h4 {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-light);
        }
        
        /* Mobile */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text);
            font-size: 1.25rem;
            cursor: pointer;
        }
        
        @media (max-width: 900px) {
            .sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s;
            }
            
            .sidebar.open {
                transform: translateX(0);
            }
            
            .main-content {
                margin-left: 0;
                padding: 2rem 1.5rem;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.5rem;
            }
        }
        
        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--dark);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--dark-tertiary);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-content">
            <a href="index.html" class="logo">
                <div class="logo-icon">
                    <img src="logo.png" alt="CursorBot">
                </div>
                <span>CursorBot</span>
            </a>
            <nav class="header-nav">
                <a href="index.html">首頁</a>
                <a href="docs.html">文件</a>
                <a href="https://github.com/zhixuli0406/cursorBot" target="_blank" rel="noopener noreferrer">GitHub</a>
                <a href="https://github.com/zhixuli0406/cursorBot" class="btn btn-primary" target="_blank" rel="noopener noreferrer">
                    <i class="fab fa-github"></i>
                    原始碼
                </a>
            </nav>
            <button class="mobile-menu-btn" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>
    
    <div class="docs-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-section">
                <div class="sidebar-title">入門指南</div>
                <ul class="sidebar-nav">
                    <li><a href="#introduction" class="active">介紹</a></li>
                    <li><a href="#requirements">系統需求</a></li>
                    <li><a href="#installation">安裝方式</a></li>
                    <li><a href="#configuration">環境設定</a></li>
                    <li><a href="#first-run">首次執行</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-title">API 參考</div>
                <ul class="sidebar-nav">
                    <li><a href="#api-overview">API 概覽</a></li>
                    <li><a href="#api-health">健康檢查</a></li>
                    <li><a href="#api-webhooks">Webhook 端點</a></li>
                    <li><a href="#api-rest">REST API</a></li>
                    <li><a href="#api-websocket">WebSocket</a></li>
                    <li><a href="#api-errors">錯誤處理</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-title">指令參考</div>
                <ul class="sidebar-nav">
                    <li><a href="#cmd-basic">基礎指令</a></li>
                    <li><a href="#cmd-ai">AI 指令</a></li>
                    <li><a href="#cmd-task">任務指令</a></li>
                    <li><a href="#cmd-advanced">進階指令</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-title">平台整合</div>
                <ul class="sidebar-nav">
                    <li><a href="#platform-telegram">Telegram</a></li>
                    <li><a href="#platform-discord">Discord</a></li>
                    <li><a href="#platform-line">LINE</a></li>
                    <li><a href="#platform-slack">Slack</a></li>
                    <li><a href="#platform-native">原生應用</a></li>
                </ul>
            </div>
            <div class="sidebar-section">
                <div class="sidebar-title">v1.1 語音助手</div>
                <ul class="sidebar-nav">
                    <li><a href="#voice-overview">語音功能概覽</a></li>
                    <li><a href="#voice-wake">語音喚醒</a></li>
                    <li><a href="#voice-commands">語音指令</a></li>
                    <li><a href="#voice-config">語音設定</a></li>
                </ul>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Introduction -->
            <section id="introduction">
                <h1>CursorBot 文件</h1>
                <p class="lead">
                    完整的 CursorBot 使用指南，從安裝設定到進階 API 整合，幫助您快速上手。
                </p>
                
                <div class="card">
                    <div class="card-title"><i class="fas fa-rocket"></i> 快速連結</div>
                    <p>選擇您需要的內容：</p>
                    <p>
                        <a href="#installation">快速安裝</a> · 
                        <a href="#api-overview">API 文件</a> · 
                        <a href="#cmd-basic">指令參考</a> · 
                        <a href="https://github.com/zhixuli0406/cursorBot" target="_blank" rel="noopener noreferrer">GitHub 原始碼</a>
                    </p>
                </div>
            </section>
            
            <!-- Requirements -->
            <section id="requirements">
                <h2>系統需求</h2>
                <p>在開始之前，請確保您的系統符合以下需求：</p>
                
                <h3>必要條件</h3>
                <table>
                    <thead>
                        <tr>
                            <th>項目</th>
                            <th>需求</th>
                            <th>說明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Python</td>
                            <td><code>3.10 - 3.12</code></td>
                            <td>不支援 3.13+</td>
                        </tr>
                        <tr>
                            <td>作業系統</td>
                            <td>Windows / macOS / Linux</td>
                            <td>推薦使用 Docker</td>
                        </tr>
                        <tr>
                            <td>記憶體</td>
                            <td>最少 2GB</td>
                            <td>建議 4GB 以上</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>選擇性需求</h3>
                <table>
                    <thead>
                        <tr>
                            <th>項目</th>
                            <th>用途</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Docker</td>
                            <td>容器化部署（推薦）</td>
                        </tr>
                        <tr>
                            <td>Node.js 20+</td>
                            <td>WhatsApp Bridge</td>
                        </tr>
                        <tr>
                            <td>Cursor IDE</td>
                            <td>CLI 模式</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            
            <!-- Installation -->
            <section id="installation">
                <h2>安裝方式</h2>
                
                <div class="tabs">
                    <div class="tab active" onclick="switchTab('docker')">Docker（推薦）</div>
                    <div class="tab" onclick="switchTab('local')">本地安裝</div>
                </div>
                
                <div class="tab-content active" id="tab-docker">
                    <p>使用 Docker 是最簡單的安裝方式，無需處理 Python 依賴。</p>
                    
                    <ol class="steps">
                        <li>
                            <h4>複製程式碼</h4>
                            <div class="code-block">
                                <div class="code-header"><span class="code-lang">bash</span></div>
                                <pre><code>git clone https://github.com/zhixuli0406/cursorBot.git
cd cursorBot</code></pre>
                            </div>
                        </li>
                        <li>
                            <h4>設定環境變數</h4>
                            <div class="code-block">
                                <div class="code-header"><span class="code-lang">bash</span></div>
                                <pre><code>cp env.example .env
nano .env  # 編輯並填入您的 API 金鑰</code></pre>
                            </div>
                        </li>
                        <li>
                            <h4>啟動服務</h4>
                            <div class="code-block">
                                <div class="code-header"><span class="code-lang">bash</span></div>
                                <pre><code>docker compose up -d --build</code></pre>
                            </div>
                        </li>
                    </ol>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle"></i>
                        <div class="alert-content">
                            <p>Docker 映像已包含所有必要工具：Python、Node.js、Git、Playwright 等。</p>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="tab-local">
                    <p>本地安裝提供更多控制，適合開發和除錯。</p>
                    
                    <ol class="steps">
                        <li>
                            <h4>複製程式碼</h4>
                            <div class="code-block">
                                <div class="code-header"><span class="code-lang">bash</span></div>
                                <pre><code>git clone https://github.com/zhixuli0406/cursorBot.git
cd cursorBot</code></pre>
                            </div>
                        </li>
                        <li>
                            <h4>建立虛擬環境</h4>
                            <div class="code-block">
                                <div class="code-header"><span class="code-lang">bash</span></div>
                                <pre><code>python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate</code></pre>
                            </div>
                        </li>
                        <li>
                            <h4>安裝依賴</h4>
                            <div class="code-block">
                                <div class="code-header"><span class="code-lang">bash</span></div>
                                <pre><code>pip install -r requirements.txt
playwright install chromium  # 可選，用於網頁自動化</code></pre>
                            </div>
                        </li>
                        <li>
                            <h4>設定並執行</h4>
                            <div class="code-block">
                                <div class="code-header"><span class="code-lang">bash</span></div>
                                <pre><code>cp env.example .env
nano .env  # 編輯環境變數
python -m src.main</code></pre>
                            </div>
                        </li>
                    </ol>
                </div>
            </section>
            
            <!-- Configuration -->
            <section id="configuration">
                <h2>環境設定</h2>
                <p>CursorBot 使用環境變數進行設定。以下是主要的設定項目：</p>
                
                <h3>必要設定</h3>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">env</span></div>
                    <pre><code># Telegram Bot（至少需要一個平台）
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_ALLOWED_USERS=your_user_id

# AI 提供者（至少需要一個）
OPENAI_API_KEY=sk-xxx
# 或
ANTHROPIC_API_KEY=sk-ant-xxx
# 或
GOOGLE_GENERATIVE_AI_API_KEY=AIza-xxx</code></pre>
                </div>
                
                <h3>AI 模型設定</h3>
                <table>
                    <thead>
                        <tr>
                            <th>提供者</th>
                            <th>環境變數</th>
                            <th>推薦模型</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>OpenAI</td>
                            <td><code>OPENAI_API_KEY</code></td>
                            <td>gpt-4o, gpt-5</td>
                        </tr>
                        <tr>
                            <td>Anthropic</td>
                            <td><code>ANTHROPIC_API_KEY</code></td>
                            <td>claude-4.5-sonnet</td>
                        </tr>
                        <tr>
                            <td>Google</td>
                            <td><code>GOOGLE_GENERATIVE_AI_API_KEY</code></td>
                            <td>gemini-3-flash</td>
                        </tr>
                        <tr>
                            <td>OpenRouter</td>
                            <td><code>OPENROUTER_API_KEY</code></td>
                            <td>多種模型</td>
                        </tr>
                        <tr>
                            <td>Ollama</td>
                            <td><code>OLLAMA_ENABLED=true</code></td>
                            <td>llama3.3</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>Gateway 設定（原生應用）</h3>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">env</span></div>
                    <pre><code># Gateway Token（正式環境必須設定）
GATEWAY_TOKEN=your_secret_token

# 功能開關
GATEWAY_CHAT_ENABLED=true
GATEWAY_CANVAS_ENABLED=true
GATEWAY_PAIRING_ENABLED=true</code></pre>
                </div>
            </section>
            
            <!-- First Run -->
            <section id="first-run">
                <h2>首次執行</h2>
                
                <div class="alert alert-success">
                    <i class="fas fa-check-circle"></i>
                    <div class="alert-content">
                        <p>啟動後，在 Telegram 中向您的 Bot 發送 <code>/start</code> 開始使用！</p>
                    </div>
                </div>
                
                <h3>驗證安裝</h3>
                <p>使用以下指令確認服務正常運行：</p>
                
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">bash</span></div>
                    <pre><code># 檢查健康狀態
curl http://localhost:8000/health

# 應該返回
{"status": "healthy", "version": "1.1.0"}</code></pre>
                </div>
                
                <h3>常用 Bot 指令</h3>
                <table>
                    <thead>
                        <tr>
                            <th>指令</th>
                            <th>說明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>/start</code></td>
                            <td>初始化並顯示歡迎訊息</td>
                        </tr>
                        <tr>
                            <td><code>/help</code></td>
                            <td>顯示所有可用指令</td>
                        </tr>
                        <tr>
                            <td><code>/status</code></td>
                            <td>查看系統狀態</td>
                        </tr>
                        <tr>
                            <td><code>/model</code></td>
                            <td>查看/切換 AI 模型</td>
                        </tr>
                    </tbody>
                </table>
            </section>
            
            <!-- API Overview -->
            <section id="api-overview">
                <h2>API 概覽</h2>
                <p>CursorBot 提供 RESTful API 和 WebSocket 端點，方便整合與監控。</p>
                
                <div class="card">
                    <div class="card-title"><i class="fas fa-server"></i> 基本資訊</div>
                    <table>
                        <tbody>
                            <tr>
                                <td>Base URL</td>
                                <td><code>http://localhost:8000</code></td>
                            </tr>
                            <tr>
                                <td>Content-Type</td>
                                <td><code>application/json</code></td>
                            </tr>
                            <tr>
                                <td>認證方式</td>
                                <td>依端點不同（詳見各端點說明）</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- API Health -->
            <section id="api-health">
                <h2>健康檢查</h2>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method method-get">GET</span>
                        <span class="endpoint-path">/health</span>
                        <span class="endpoint-desc">基本健康檢查</span>
                    </div>
                    <div class="endpoint-body">
                        <h4>回應範例</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">json</span></div>
                            <pre><code>{
  "status": "healthy",
  "timestamp": "2026-01-28T10:00:00Z",
  "version": "1.0.0"
}</code></pre>
                        </div>
                    </div>
                </div>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method method-get">GET</span>
                        <span class="endpoint-path">/health/detailed</span>
                        <span class="endpoint-desc">詳細健康檢查</span>
                    </div>
                    <div class="endpoint-body">
                        <h4>回應範例</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">json</span></div>
                            <pre><code>{
  "status": "healthy",
  "timestamp": "2026-01-28T10:00:00Z",
  "version": "1.0.0",
  "components": {
    "telegram": { "status": "healthy", "latency_ms": 50 },
    "discord": { "status": "healthy", "latency_ms": 30 },
    "llm": { "status": "healthy", "providers": ["openai", "anthropic"] }
  },
  "system": {
    "cpu_percent": 25.5,
    "memory_percent": 45.2,
    "disk_percent": 60.0
  }
}</code></pre>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- API Webhooks -->
            <section id="api-webhooks">
                <h2>Webhook 端點</h2>
                <p>各平台的 Webhook 端點用於接收訊息和事件。</p>
                
                <table>
                    <thead>
                        <tr>
                            <th>平台</th>
                            <th>端點</th>
                            <th>認證方式</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Telegram</td>
                            <td><code>/webhook/telegram</code></td>
                            <td>Secret path</td>
                        </tr>
                        <tr>
                            <td>LINE</td>
                            <td><code>/webhook/line</code></td>
                            <td>X-Line-Signature</td>
                        </tr>
                        <tr>
                            <td>Slack</td>
                            <td><code>/webhook/slack</code></td>
                            <td>Signing Secret</td>
                        </tr>
                        <tr>
                            <td>WhatsApp</td>
                            <td><code>/webhook/whatsapp</code></td>
                            <td>Verify Token</td>
                        </tr>
                        <tr>
                            <td>Teams</td>
                            <td><code>/webhook/teams</code></td>
                            <td>Bot Framework</td>
                        </tr>
                        <tr>
                            <td>Google Chat</td>
                            <td><code>/webhook/google-chat</code></td>
                            <td>Bearer Token</td>
                        </tr>
                    </tbody>
                </table>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method method-post">POST</span>
                        <span class="endpoint-path">/webhook/line</span>
                        <span class="endpoint-desc">LINE Messaging API</span>
                    </div>
                    <div class="endpoint-body">
                        <h4>請求標頭</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">http</span></div>
                            <pre><code>Content-Type: application/json
X-Line-Signature: {HMAC-SHA256 signature}</code></pre>
                        </div>
                        <h4>請求內容</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">json</span></div>
                            <pre><code>{
  "events": [
    {
      "type": "message",
      "replyToken": "xxx",
      "source": { "userId": "U123456", "type": "user" },
      "message": { "type": "text", "text": "/help" }
    }
  ]
}</code></pre>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- API REST -->
            <section id="api-rest">
                <h2>REST API</h2>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method method-get">GET</span>
                        <span class="endpoint-path">/api/nodes</span>
                        <span class="endpoint-desc">列出已連接的原生應用</span>
                    </div>
                    <div class="endpoint-body">
                        <h4>回應範例</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">json</span></div>
                            <pre><code>{
  "nodes": [
    {
      "id": "node-abc123",
      "device_type": "macos",
      "device_name": "MacBook Pro",
      "connected_at": "2026-01-28T10:00:00Z"
    }
  ],
  "count": 1
}</code></pre>
                        </div>
                    </div>
                </div>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method method-get">GET</span>
                        <span class="endpoint-path">/api/usage</span>
                        <span class="endpoint-desc">LLM 使用統計</span>
                    </div>
                    <div class="endpoint-body">
                        <h4>回應範例</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">json</span></div>
                            <pre><code>{
  "total_requests": 1000,
  "total_tokens": 500000,
  "by_provider": {
    "openai": { "requests": 500, "tokens": 250000 },
    "anthropic": { "requests": 300, "tokens": 150000 }
  }
}</code></pre>
                        </div>
                    </div>
                </div>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method method-post">POST</span>
                        <span class="endpoint-path">/api/broadcast</span>
                        <span class="endpoint-desc">廣播訊息</span>
                    </div>
                    <div class="endpoint-body">
                        <h4>請求內容</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">json</span></div>
                            <pre><code>{
  "message": "系統維護通知",
  "user_ids": ["user1", "user2"],
  "platforms": ["telegram", "discord"]
}</code></pre>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- API WebSocket -->
            <section id="api-websocket">
                <h2>WebSocket</h2>
                <p>原生應用透過 WebSocket 即時連線到 CursorBot。</p>
                
                <div class="endpoint">
                    <div class="endpoint-header">
                        <span class="method method-ws">WS</span>
                        <span class="endpoint-path">/ws/node</span>
                        <span class="endpoint-desc">原生應用 Gateway</span>
                    </div>
                    <div class="endpoint-body">
                        <h4>連線範例</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">javascript</span></div>
                            <pre><code>const ws = new WebSocket('ws://localhost:8000/ws/node');

ws.onopen = () => {
  console.log('Connected to CursorBot');
};

// 發送聊天訊息
ws.send(JSON.stringify({
  type: 'chat',
  payload: {
    message: '你好！'
  }
}));

// 建立 Canvas
ws.send(JSON.stringify({
  type: 'canvas',
  payload: {
    action: 'create',
    name: 'My Canvas'
  }
}));

// 接收回應
ws.onmessage = (event) => {
  const data = JSON.parse(event.data);
  console.log('Received:', data);
};</code></pre>
                        </div>
                        
                        <h4>訊息類型</h4>
                        <table>
                            <thead>
                                <tr>
                                    <th>類型</th>
                                    <th>說明</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>chat</code></td>
                                    <td>與 AI 對話</td>
                                </tr>
                                <tr>
                                    <td><code>canvas</code></td>
                                    <td>Live Canvas 操作</td>
                                </tr>
                                <tr>
                                    <td><code>pairing</code></td>
                                    <td>裝置配對</td>
                                </tr>
                                <tr>
                                    <td><code>image</code></td>
                                    <td>圖像分析</td>
                                </tr>
                                <tr>
                                    <td><code>command</code></td>
                                    <td>系統指令</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
            
            <!-- API Errors -->
            <section id="api-errors">
                <h2>錯誤處理</h2>
                
                <h3>HTTP 狀態碼</h3>
                <table>
                    <thead>
                        <tr>
                            <th>狀態碼</th>
                            <th>說明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>200</code></td>
                            <td>成功</td>
                        </tr>
                        <tr>
                            <td><code>400</code></td>
                            <td>請求格式錯誤</td>
                        </tr>
                        <tr>
                            <td><code>401</code></td>
                            <td>未授權</td>
                        </tr>
                        <tr>
                            <td><code>403</code></td>
                            <td>禁止存取</td>
                        </tr>
                        <tr>
                            <td><code>404</code></td>
                            <td>找不到資源</td>
                        </tr>
                        <tr>
                            <td><code>429</code></td>
                            <td>請求過於頻繁</td>
                        </tr>
                        <tr>
                            <td><code>500</code></td>
                            <td>伺服器錯誤</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>錯誤回應格式</h3>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">json</span></div>
                    <pre><code>{
  "error": {
    "code": "INVALID_REQUEST",
    "message": "請求格式錯誤",
    "details": {
      "field": "message",
      "reason": "required"
    }
  }
}</code></pre>
                </div>
            </section>
            
            <!-- Commands Basic -->
            <section id="cmd-basic">
                <h2>基礎指令</h2>
                
                <div class="command-group">
                    <h4><i class="fas fa-terminal"></i> 系統指令</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>指令</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/start</code></td>
                                <td>啟動 Bot 並顯示歡迎訊息</td>
                            </tr>
                            <tr>
                                <td><code>/help</code></td>
                                <td>顯示所有可用指令</td>
                            </tr>
                            <tr>
                                <td><code>/status</code></td>
                                <td>查看系統狀態</td>
                            </tr>
                            <tr>
                                <td><code>/doctor</code></td>
                                <td>系統診斷</td>
                            </tr>
                            <tr>
                                <td><code>/new</code></td>
                                <td>開始新對話</td>
                            </tr>
                            <tr>
                                <td><code>/clear</code></td>
                                <td>清除對話上下文</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="command-group">
                    <h4><i class="fas fa-sliders-h"></i> 模式切換</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>指令</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/mode</code></td>
                                <td>查看當前模式</td>
                            </tr>
                            <tr>
                                <td><code>/mode cli</code></td>
                                <td>切換到 CLI 模式</td>
                            </tr>
                            <tr>
                                <td><code>/mode agent</code></td>
                                <td>切換到 Agent 模式</td>
                            </tr>
                            <tr>
                                <td><code>/mode auto</code></td>
                                <td>自動選擇最佳模式</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Commands AI -->
            <section id="cmd-ai">
                <h2>AI 指令</h2>
                
                <div class="command-group">
                    <h4><i class="fas fa-brain"></i> AI 對話</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>指令</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/agent &lt;任務&gt;</code></td>
                                <td>啟動 Agent Loop 執行任務</td>
                            </tr>
                            <tr>
                                <td><code>/model</code></td>
                                <td>查看目前使用的 AI 模型</td>
                            </tr>
                            <tr>
                                <td><code>/model list</code></td>
                                <td>列出所有可用模型</td>
                            </tr>
                            <tr>
                                <td><code>/model set &lt;id&gt;</code></td>
                                <td>切換 AI 模型</td>
                            </tr>
                            <tr>
                                <td><code>/climodel</code></td>
                                <td>查看 CLI 模型設定</td>
                            </tr>
                            <tr>
                                <td><code>/climodel set &lt;id&gt;</code></td>
                                <td>切換 CLI 模型</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="command-group">
                    <h4><i class="fas fa-database"></i> RAG 知識庫</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>指令</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/rag &lt;問題&gt;</code></td>
                                <td>基於索引內容回答問題</td>
                            </tr>
                            <tr>
                                <td><code>/index &lt;檔案&gt;</code></td>
                                <td>索引單一檔案</td>
                            </tr>
                            <tr>
                                <td><code>/index_dir &lt;目錄&gt;</code></td>
                                <td>索引整個目錄</td>
                            </tr>
                            <tr>
                                <td><code>/search &lt;關鍵字&gt;</code></td>
                                <td>搜尋索引內容</td>
                            </tr>
                            <tr>
                                <td><code>/ragstats</code></td>
                                <td>查看 RAG 統計</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Commands Task -->
            <section id="cmd-task">
                <h2>任務指令</h2>
                
                <div class="command-group">
                    <h4><i class="fas fa-tasks"></i> 任務管理</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>指令</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/tasks</code></td>
                                <td>查看待處理任務</td>
                            </tr>
                            <tr>
                                <td><code>/cancel &lt;id&gt;</code></td>
                                <td>取消任務</td>
                            </tr>
                            <tr>
                                <td><code>/task_status &lt;id&gt;</code></td>
                                <td>查看任務詳情</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="command-group">
                    <h4><i class="fas fa-code"></i> 程式碼審查</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>指令</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/review &lt;檔案&gt;</code></td>
                                <td>AI 程式碼審查</td>
                            </tr>
                            <tr>
                                <td><code>/review dir &lt;目錄&gt;</code></td>
                                <td>審查整個目錄</td>
                            </tr>
                            <tr>
                                <td><code>/review diff</code></td>
                                <td>審查 Git 變更</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Commands Advanced -->
            <section id="cmd-advanced">
                <h2>進階指令</h2>
                
                <div class="command-group">
                    <h4><i class="fas fa-plug"></i> MCP 整合</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>指令</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/mcp</code></td>
                                <td>MCP 狀態</td>
                            </tr>
                            <tr>
                                <td><code>/mcp servers</code></td>
                                <td>列出 MCP 伺服器</td>
                            </tr>
                            <tr>
                                <td><code>/mcp tools</code></td>
                                <td>列出 MCP 工具</td>
                            </tr>
                            <tr>
                                <td><code>/mcp connect &lt;name&gt; &lt;cmd&gt;</code></td>
                                <td>連接 MCP 伺服器</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="command-group">
                    <h4><i class="fas fa-palette"></i> Live Canvas</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>指令</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/canvas</code></td>
                                <td>Canvas 狀態</td>
                            </tr>
                            <tr>
                                <td><code>/canvas new [名稱]</code></td>
                                <td>新建 Canvas</td>
                            </tr>
                            <tr>
                                <td><code>/canvas list</code></td>
                                <td>列出 Canvas</td>
                            </tr>
                            <tr>
                                <td><code>/canvas add &lt;type&gt; &lt;content&gt;</code></td>
                                <td>新增元件</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="command-group">
                    <h4><i class="fas fa-mobile-alt"></i> 裝置配對</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>指令</th>
                                <th>說明</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>/pair</code></td>
                                <td>產生配對碼</td>
                            </tr>
                            <tr>
                                <td><code>/pair qr</code></td>
                                <td>產生 QR Code</td>
                            </tr>
                            <tr>
                                <td><code>/devices</code></td>
                                <td>列出已配對裝置</td>
                            </tr>
                            <tr>
                                <td><code>/devices remove &lt;id&gt;</code></td>
                                <td>解除配對</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Platform Telegram -->
            <section id="platform-telegram">
                <h2>Telegram 設定</h2>
                
                <ol class="steps">
                    <li>
                        <h4>建立 Bot</h4>
                        <p>在 Telegram 中搜尋 <a href="https://t.me/BotFather" target="_blank" rel="noopener noreferrer">@BotFather</a>，發送 <code>/newbot</code> 建立新 Bot。</p>
                    </li>
                    <li>
                        <h4>取得 Token</h4>
                        <p>BotFather 會給您一個 Token，格式如：<code>123456:ABC-DEF1234ghIkl-zyx57W2v1u123ew11</code></p>
                    </li>
                    <li>
                        <h4>取得您的 User ID</h4>
                        <p>搜尋 <a href="https://t.me/userinfobot" target="_blank" rel="noopener noreferrer">@userinfobot</a>，發送任意訊息取得您的 User ID。</p>
                    </li>
                    <li>
                        <h4>設定環境變數</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">env</span></div>
                            <pre><code>TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_ALLOWED_USERS=your_user_id</code></pre>
                        </div>
                    </li>
                </ol>
            </section>
            
            <!-- Platform Discord -->
            <section id="platform-discord">
                <h2>Discord 設定</h2>
                
                <ol class="steps">
                    <li>
                        <h4>建立 Application</h4>
                        <p>前往 <a href="https://discord.com/developers/applications" target="_blank" rel="noopener noreferrer">Discord Developer Portal</a>，點擊 "New Application"。</p>
                    </li>
                    <li>
                        <h4>建立 Bot 並設定權限</h4>
                        <p>進入 "Bot" 頁面，點擊 "Add Bot"。</p>
                        
                        <h4 style="margin-top: 1rem; color: var(--accent);">必要權限設定（Privileged Gateway Intents）</h4>
                        <p>在 Bot 設定頁面，<strong>必須</strong>啟用以下 Intents：</p>
                        <table>
                            <thead>
                                <tr>
                                    <th>Intent</th>
                                    <th>用途</th>
                                    <th>必要性</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>MESSAGE CONTENT INTENT</code></td>
                                    <td>讀取訊息內容（非指令訊息）</td>
                                    <td><strong style="color: #ef4444;">必須</strong></td>
                                </tr>
                                <tr>
                                    <td><code>SERVER MEMBERS INTENT</code></td>
                                    <td>存取伺服器成員清單</td>
                                    <td>建議</td>
                                </tr>
                                <tr>
                                    <td><code>PRESENCE INTENT</code></td>
                                    <td>追蹤成員在線狀態</td>
                                    <td>選用</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <div class="alert alert-warning" style="margin-top: 1rem;">
                            <i class="fas fa-exclamation-triangle"></i>
                            <div class="alert-content">
                                <p><strong>重要！</strong>若未啟用 Message Content Intent，Bot 將無法讀取非斜線指令的訊息內容。</p>
                            </div>
                        </div>
                    </li>
                    <li>
                        <h4>設定 Bot 權限（OAuth2 Permissions）</h4>
                        <p>在 "OAuth2" > "URL Generator" 頁面：</p>
                        
                        <p><strong>Scopes（範圍）：</strong></p>
                        <ul style="margin-left: 1.5rem; margin-bottom: 1rem;">
                            <li><code>bot</code> - 基本 Bot 功能</li>
                            <li><code>applications.commands</code> - 斜線指令支援</li>
                        </ul>
                        
                        <p><strong>Bot Permissions（權限）：</strong></p>
                        <table>
                            <thead>
                                <tr>
                                    <th>權限</th>
                                    <th>數值</th>
                                    <th>用途</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Read Messages/View Channels</td>
                                    <td><code>1024</code></td>
                                    <td>讀取頻道訊息</td>
                                </tr>
                                <tr>
                                    <td>Send Messages</td>
                                    <td><code>2048</code></td>
                                    <td>發送訊息</td>
                                </tr>
                                <tr>
                                    <td>Embed Links</td>
                                    <td><code>16384</code></td>
                                    <td>嵌入式訊息</td>
                                </tr>
                                <tr>
                                    <td>Attach Files</td>
                                    <td><code>32768</code></td>
                                    <td>上傳檔案</td>
                                </tr>
                                <tr>
                                    <td>Read Message History</td>
                                    <td><code>65536</code></td>
                                    <td>讀取歷史訊息</td>
                                </tr>
                                <tr>
                                    <td>Add Reactions</td>
                                    <td><code>64</code></td>
                                    <td>新增表情回應</td>
                                </tr>
                                <tr>
                                    <td>Use Slash Commands</td>
                                    <td><code>2147483648</code></td>
                                    <td>使用斜線指令</td>
                                </tr>
                            </tbody>
                        </table>
                        
                        <p style="margin-top: 1rem;"><strong>建議權限值：</strong> <code>274878024768</code></p>
                        <p>或使用以下連結格式邀請 Bot：</p>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">url</span></div>
                            <pre><code>https://discord.com/api/oauth2/authorize?client_id=YOUR_CLIENT_ID&permissions=274878024768&scope=bot%20applications.commands</code></pre>
                        </div>
                    </li>
                    <li>
                        <h4>取得 Guild ID（伺服器 ID）</h4>
                        <p>在 Discord 中開啟「開發者模式」（使用者設定 > 進階 > 開發者模式），右鍵點擊伺服器圖示 > 複製 ID。</p>
                    </li>
                    <li>
                        <h4>設定環境變數</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">env</span></div>
                            <pre><code># Discord Bot 設定
DISCORD_ENABLED=true
DISCORD_BOT_TOKEN=your_bot_token

# 限制 Bot 只能在特定伺服器使用（選用）
DISCORD_ALLOWED_GUILDS=guild_id_1,guild_id_2

# 限制 Bot 只能由特定使用者使用（選用）
DISCORD_ALLOWED_USERS=user_id_1,user_id_2</code></pre>
                        </div>
                    </li>
                </ol>
                
                <div class="alert alert-info" style="margin-top: 1.5rem;">
                    <i class="fas fa-info-circle"></i>
                    <div class="alert-content">
                        <p><strong>常見問題：</strong>如果 Bot 無法回應訊息，請確認：<br>
                        1. Message Content Intent 已啟用<br>
                        2. Bot 有權限讀取和發送該頻道的訊息<br>
                        3. 環境變數設定正確</p>
                    </div>
                </div>
            </section>
            
            <!-- Platform LINE -->
            <section id="platform-line">
                <h2>LINE 設定</h2>
                
                <ol class="steps">
                    <li>
                        <h4>建立 Channel</h4>
                        <p>前往 <a href="https://developers.line.biz/" target="_blank" rel="noopener noreferrer">LINE Developers</a> 建立 Provider 和 Messaging API Channel。</p>
                    </li>
                    <li>
                        <h4>設定 Webhook</h4>
                        <p>在 "Messaging API" 頁面設定 Webhook URL：<code>https://your-domain/webhook/line</code></p>
                    </li>
                    <li>
                        <h4>設定環境變數</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">env</span></div>
                            <pre><code>LINE_ENABLED=true
LINE_CHANNEL_ACCESS_TOKEN=your_token
LINE_CHANNEL_SECRET=your_secret</code></pre>
                        </div>
                    </li>
                </ol>
            </section>
            
            <!-- Platform Slack -->
            <section id="platform-slack">
                <h2>Slack 設定</h2>
                
                <ol class="steps">
                    <li>
                        <h4>建立 App</h4>
                        <p>前往 <a href="https://api.slack.com/apps" target="_blank" rel="noopener noreferrer">Slack API</a> 建立新 App。</p>
                    </li>
                    <li>
                        <h4>設定 Event Subscriptions</h4>
                        <p>Webhook URL：<code>https://your-domain/webhook/slack</code></p>
                        <p>訂閱事件：<code>message.channels</code>、<code>message.im</code></p>
                    </li>
                    <li>
                        <h4>設定環境變數</h4>
                        <div class="code-block">
                            <div class="code-header"><span class="code-lang">env</span></div>
                            <pre><code>SLACK_ENABLED=true
SLACK_BOT_TOKEN=xoxb-xxx
SLACK_SIGNING_SECRET=xxx</code></pre>
                        </div>
                    </li>
                </ol>
            </section>
            
            <!-- Platform Native -->
            <section id="platform-native">
                <h2>原生應用</h2>
                <p>CursorBot 提供 macOS、iOS、Android 原生應用程式碼，位於 <code>apps/</code> 目錄。</p>
                
                <h3>macOS App</h3>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">bash</span></div>
                    <pre><code>cd apps/macos/CursorBot
swift build
swift run</code></pre>
                </div>
                
                <h3>iOS App</h3>
                <p>使用 Xcode 開啟 <code>apps/ios/CursorBotNode.xcodeproj</code> 進行建置。</p>
                
                <h3>Android App</h3>
                <p>使用 Android Studio 開啟 <code>apps/android</code> 目錄進行建置。</p>
                
                <div class="alert alert-info">
                    <i class="fas fa-info-circle"></i>
                    <div class="alert-content">
                        <p>原生應用透過 WebSocket 連接到 <code>/ws/node</code> 端點，請確保已設定 <code>GATEWAY_TOKEN</code>。</p>
                    </div>
                </div>
            </section>
            
            <!-- Voice Overview -->
            <section id="voice-overview">
                <h2>v1.1 語音功能概覽</h2>
                <p>CursorBot v1.1 帶來完整的語音助手功能，讓您可以像使用 Siri 一樣與 AI 對話。</p>
                
                <div class="card">
                    <div class="card-title"><i class="fas fa-microphone-alt"></i> 核心功能</div>
                    <table>
                        <tbody>
                            <tr>
                                <td><strong>語音喚醒</strong></td>
                                <td>自訂喚醒詞（如「Hey Cursor」）、聲紋識別、離線喚醒</td>
                            </tr>
                            <tr>
                                <td><strong>語音辨識</strong></td>
                                <td>Whisper、Vosk（離線）、Google Speech API</td>
                            </tr>
                            <tr>
                                <td><strong>語音合成</strong></td>
                                <td>Edge TTS、ElevenLabs、Piper（離線）、情緒語調</td>
                            </tr>
                            <tr>
                                <td><strong>意圖識別</strong></td>
                                <td>上下文理解、代詞指代、多語言混合指令</td>
                            </tr>
                            <tr>
                                <td><strong>智慧家居</strong></td>
                                <td>HomeKit、Google Home、小米 IoT 整合</td>
                            </tr>
                            <tr>
                                <td><strong>會議助手</strong></td>
                                <td>錄音、即時轉錄、摘要、行動項目</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Voice Wake -->
            <section id="voice-wake">
                <h2>語音喚醒</h2>
                <p>支援多種喚醒引擎和自訂喚醒詞。</p>
                
                <h3>支援的喚醒引擎</h3>
                <table>
                    <thead>
                        <tr>
                            <th>引擎</th>
                            <th>離線</th>
                            <th>說明</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Vosk</td>
                            <td>✅</td>
                            <td>開源離線語音辨識，免費使用</td>
                        </tr>
                        <tr>
                            <td>Porcupine</td>
                            <td>✅</td>
                            <td>Picovoice 引擎，高精度但需 API Key</td>
                        </tr>
                        <tr>
                            <td>Whisper</td>
                            <td>✅</td>
                            <td>OpenAI 開源模型，可本地運行</td>
                        </tr>
                    </tbody>
                </table>
                
                <h3>預設喚醒詞</h3>
                <ul style="margin-left: 1.5rem;">
                    <li><code>hey cursor</code> - 英文喚醒</li>
                    <li><code>嘿 cursor</code> - 中文喚醒</li>
                    <li><code>小助手</code> - 中文別名</li>
                </ul>
            </section>
            
            <!-- Voice Commands -->
            <section id="voice-commands">
                <h2>語音指令</h2>
                
                <div class="command-group">
                    <h4><i class="fas fa-cog"></i> 系統控制</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>語音指令</th>
                                <th>動作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>「打開設定」</td>
                                <td>開啟系統設定</td>
                            </tr>
                            <tr>
                                <td>「調高音量」/「音量大一點」</td>
                                <td>增加系統音量</td>
                            </tr>
                            <tr>
                                <td>「調低亮度」</td>
                                <td>降低螢幕亮度</td>
                            </tr>
                            <tr>
                                <td>「截圖」</td>
                                <td>螢幕截圖</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="command-group">
                    <h4><i class="fas fa-folder"></i> 檔案操作</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>語音指令</th>
                                <th>動作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>「新建檔案 test.py」</td>
                                <td>建立新檔案</td>
                            </tr>
                            <tr>
                                <td>「刪除這個」</td>
                                <td>刪除上次提到的檔案</td>
                            </tr>
                            <tr>
                                <td>「重新命名為 main.py」</td>
                                <td>重新命名檔案</td>
                            </tr>
                            <tr>
                                <td>「列出目錄」</td>
                                <td>顯示當前目錄內容</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="command-group">
                    <h4><i class="fas fa-home"></i> 智慧家居</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>語音指令</th>
                                <th>動作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>「打開客廳的燈」</td>
                                <td>開啟指定燈光</td>
                            </tr>
                            <tr>
                                <td>「把空調調到 26 度」</td>
                                <td>設定空調溫度</td>
                            </tr>
                            <tr>
                                <td>「關閉所有燈」</td>
                                <td>關閉所有燈光設備</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="command-group">
                    <h4><i class="fas fa-calendar"></i> 日曆與提醒</h4>
                    <table>
                        <thead>
                            <tr>
                                <th>語音指令</th>
                                <th>動作</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>「今天有什麼會議」</td>
                                <td>查詢今日行程</td>
                            </tr>
                            <tr>
                                <td>「提醒我明天下午 3 點開會」</td>
                                <td>新增提醒</td>
                            </tr>
                            <tr>
                                <td>「新增行程：週五晚餐」</td>
                                <td>新增日曆事件</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Voice Config -->
            <section id="voice-config">
                <h2>語音設定</h2>
                <p>在 <code>.env</code> 檔案中設定語音功能：</p>
                
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">env</span></div>
                    <pre><code># 語音喚醒
VOICE_WAKE_ENABLED=true
VOICE_WAKE_ENGINE=vosk           # vosk, porcupine
VOICE_WAKE_WORDS=hey cursor,嘿cursor,小助手
VOICE_WAKE_SENSITIVITY=0.5

# 語音辨識 (STT)
VOICE_STT_ENGINE=whisper         # whisper, vosk, openai
VOICE_WHISPER_MODEL=base         # tiny, base, small, medium, large
VOICE_STT_LANGUAGE=zh-TW

# 語音合成 (TTS)
VOICE_TTS_ENABLED=true
VOICE_TTS_ENGINE=edge            # edge, elevenlabs, piper
VOICE_TTS_VOICE=zh-TW-HsiaoChenNeural
VOICE_TTS_SPEED=1.0

# 音訊處理
VOICE_VAD_ENABLED=true           # 語音活動偵測
VOICE_NOISE_REDUCTION=true       # 噪音抑制

# 離線模式
VOICE_OFFLINE_FALLBACK=true      # 自動切換離線模式

# Porcupine（需要 API Key）
PORCUPINE_ACCESS_KEY=your_key</code></pre>
                </div>
                
                <h3>安裝語音依賴</h3>
                <div class="code-block">
                    <div class="code-header"><span class="code-lang">bash</span></div>
                    <pre><code># 安裝 Python 依賴
pip install vosk openai-whisper edge-tts pvporcupine webrtcvad numpy

# 下載 Vosk 模型（離線語音辨識）
# 中文模型
wget https://alphacephei.com/vosk/models/vosk-model-cn-0.22.zip
unzip vosk-model-cn-0.22.zip -d models/

# 英文模型
wget https://alphacephei.com/vosk/models/vosk-model-en-us-0.22.zip
unzip vosk-model-en-us-0.22.zip -d models/</code></pre>
                </div>
                
                <div class="alert alert-info">
                    <i class="fas fa-info-circle"></i>
                    <div class="alert-content">
                        <p><strong>提示：</strong>若要使用離線語音辨識，需下載對應語言的 Vosk 模型，並在環境變數中設定 <code>VOICE_VOSK_MODEL_PATH</code>。</p>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <script>
        // Tab switching
        function switchTab(tabId) {
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
            
            document.querySelector(`.tab[onclick="switchTab('${tabId}')"]`).classList.add('active');
            document.getElementById(`tab-${tabId}`).classList.add('active');
        }
        
        // Sidebar navigation
        document.querySelectorAll('.sidebar-nav a').forEach(link => {
            link.addEventListener('click', function() {
                document.querySelectorAll('.sidebar-nav a').forEach(l => l.classList.remove('active'));
                this.classList.add('active');
            });
        });
        
        // Mobile menu
        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('open');
        }
        
        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
        
        // Active section highlighting
        window.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('section[id]');
            const scrollPos = window.scrollY + 100;
            
            sections.forEach(section => {
                const top = section.offsetTop;
                const bottom = top + section.offsetHeight;
                const id = section.getAttribute('id');
                
                if (scrollPos >= top && scrollPos < bottom) {
                    document.querySelectorAll('.sidebar-nav a').forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href') === `#${id}`) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        });
    </script>
</body>
</html>
